diff --git a/Cargo.lock b/Cargo.lock
index 0ac3dfba0..a2f71b680 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -2050,7 +2050,7 @@ dependencies = [
  "vector-config-macros",
  "vector-core",
  "vector-lookup",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -2631,8 +2631,8 @@ dependencies = [
  "bytes 1.4.0",
  "chrono",
  "chrono-tz",
- "lalrpop",
- "lalrpop-util",
+ "lalrpop 0.19.8",
+ "lalrpop-util 0.19.9",
  "nom",
  "once_cell",
  "onig",
@@ -2838,6 +2838,18 @@ dependencies = [
  "winapi",
 ]

+[[package]]
+name = "dns-lookup"
+version = "2.0.2"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "8f332aa79f9e9de741ac013237294ef42ce2e9c6394dc7d766725812f1238812"
+dependencies = [
+ "cfg-if",
+ "libc",
+ "socket2 0.5.2",
+ "windows-sys 0.48.0",
+]
+
 [[package]]
 name = "dnsmsg-parser"
 version = "0.1.0"
@@ -2964,7 +2976,7 @@ dependencies = [
  "chrono",
  "dyn-clone",
  "vector-common",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -4567,7 +4579,7 @@ dependencies = [
  "diff",
  "ena",
  "itertools",
- "lalrpop-util",
+ "lalrpop-util 0.19.9",
  "petgraph",
  "regex",
  "regex-syntax 0.6.29",
@@ -4577,12 +4589,40 @@ dependencies = [
  "unicode-xid 0.2.4",
 ]

+[[package]]
+name = "lalrpop"
+version = "0.20.0"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "da4081d44f4611b66c6dd725e6de3169f9f63905421e8626fcb86b6a898998b8"
+dependencies = [
+ "ascii-canvas",
+ "bit-set",
+ "diff",
+ "ena",
+ "is-terminal",
+ "itertools",
+ "lalrpop-util 0.20.0",
+ "petgraph",
+ "regex",
+ "regex-syntax 0.7.1",
+ "string_cache",
+ "term",
+ "tiny-keccak",
+ "unicode-xid 0.2.4",
+]
+
 [[package]]
 name = "lalrpop-util"
 version = "0.19.9"
 source = "registry+https://github.com/rust-lang/crates.io-index"
 checksum = "e5c1f7869c94d214466c5fd432dfed12c379fd87786768d36455892d46b18edd"

+[[package]]
+name = "lalrpop-util"
+version = "0.20.0"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "3f35c735096c0293d313e8f2a641627472b83d01b937177fe76e5e2708d31e0d"
+
 [[package]]
 name = "lapin"
 version = "2.1.1"
@@ -5679,7 +5719,7 @@ dependencies = [
  "tonic-build",
  "vector-core",
  "vector-lookup",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -9071,6 +9111,7 @@ dependencies = [
  "getrandom 0.2.9",
  "rand 0.8.5",
  "serde",
+ "wasm-bindgen",
 ]

 [[package]]
@@ -9330,7 +9371,7 @@ dependencies = [
  "vector-core",
  "vector-lookup",
  "vector-vrl-functions",
- "vrl",
+ "vrl 0.4.0",
  "warp",
  "windows-service",
  "wiremock",
@@ -9432,7 +9473,7 @@ dependencies = [
  "vector-config",
  "vector-config-common",
  "vector-config-macros",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -9457,7 +9498,7 @@ dependencies = [
  "url",
  "vector-config-common",
  "vector-config-macros",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -9569,7 +9610,7 @@ dependencies = [
  "vector-config-common",
  "vector-config-macros",
  "vector-lookup",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -9579,7 +9620,7 @@ dependencies = [
  "serde",
  "vector-config",
  "vector-config-macros",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -9588,14 +9629,14 @@ version = "0.1.0"
 dependencies = [
  "clap 4.1.14",
  "vector-vrl-functions",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
 name = "vector-vrl-functions"
 version = "0.1.0"
 dependencies = [
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -9615,7 +9656,7 @@ dependencies = [
  "tikv-jemallocator",
  "tracing-subscriber",
  "vector-vrl-functions",
- "vrl",
+ "vrl 0.1.0",
 ]

 [[package]]
@@ -9628,7 +9669,7 @@ dependencies = [
  "serde",
  "serde-wasm-bindgen",
  "vector-vrl-functions",
- "vrl",
+ "vrl 0.1.0",
  "wasm-bindgen",
 ]

@@ -9663,6 +9704,80 @@ dependencies = [
  "vrl-tests",
 ]

+[[package]]
+name = "vrl"
+version = "0.4.0"
+source = "git+https://github.com/vectordotdev/vrl?rev=b308189e6966df1e61416f9b7a4e5d36e211fc80#b308189e6966df1e61416f9b7a4e5d36e211fc80"
+dependencies = [
+ "aes",
+ "anymap",
+ "base16",
+ "base64 0.21.0",
+ "bytes 1.4.0",
+ "cbc",
+ "cfb-mode",
+ "cfg-if",
+ "charset",
+ "chrono",
+ "chrono-tz",
+ "cidr-utils",
+ "clap 4.1.14",
+ "codespan-reporting",
+ "csv",
+ "ctr",
+ "data-encoding",
+ "dns-lookup 2.0.2",
+ "dyn-clone",
+ "exitcode",
+ "flate2",
+ "grok",
+ "hex",
+ "hmac",
+ "hostname",
+ "indexmap",
+ "indoc",
+ "itertools",
+ "lalrpop 0.20.0",
+ "lalrpop-util 0.20.0",
+ "md-5",
+ "nom",
+ "ofb",
+ "once_cell",
+ "onig",
+ "ordered-float 3.7.0",
+ "paste",
+ "peeking_take_while",
+ "percent-encoding",
+ "pest",
+ "pest_derive",
+ "prettytable-rs",
+ "quoted_printable",
+ "rand 0.8.5",
+ "regex",
+ "roxmltree",
+ "rust_decimal",
+ "rustyline",
+ "seahash",
+ "serde",
+ "serde_json",
+ "sha-1",
+ "sha2 0.10.6",
+ "sha3",
+ "snafu",
+ "strip-ansi-escapes",
+ "syslog_loose",
+ "termcolor",
+ "thiserror",
+ "tracing 0.1.37",
+ "uaparser",
+ "url",
+ "utf8-width",
+ "uuid",
+ "webbrowser",
+ "woothee",
+ "zstd 0.12.3+zstd.1.5.2",
+]
+
 [[package]]
 name = "vrl-cli"
 version = "0.1.0"
@@ -9698,7 +9813,7 @@ dependencies = [
  "dyn-clone",
  "getrandom 0.2.9",
  "indoc",
- "lalrpop-util",
+ "lalrpop-util 0.19.9",
  "ordered-float 3.7.0",
  "paste",
  "path",
@@ -9745,8 +9860,8 @@ name = "vrl-parser"
 version = "0.1.0"
 source = "git+https://github.com/vectordotdev/vrl?rev=v0.3.0#113005bcee6cd7b5ea0a53a7db2fc45ba4bc4125"
 dependencies = [
- "lalrpop",
- "lalrpop-util",
+ "lalrpop 0.19.8",
+ "lalrpop-util 0.19.9",
  "ordered-float 3.7.0",
  "paste",
  "path",
@@ -9774,7 +9889,7 @@ dependencies = [
  "datadog-filter",
  "datadog-grok",
  "datadog-search-syntax",
- "dns-lookup",
+ "dns-lookup 1.0.8",
  "flate2",
  "grok",
  "hex",
diff --git a/Cargo.toml b/Cargo.toml
index e9be0e074..c538ad189 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -226,7 +226,7 @@ hex = { version = "0.4.3", default-features = false, optional = true }
 sha2 = { version = "0.10.6", default-features = false, optional = true }

 # VRL Lang
-vrl = { package = "vrl", git = "https://github.com/vectordotdev/vrl", rev = "v0.3.0", features = ["cli"] }
+vrl = { package = "vrl", git = "https://github.com/vectordotdev/vrl", rev = "b308189e6966df1e61416f9b7a4e5d36e211fc80", features = ["cli"] }

 # External libs
 arc-swap = { version = "1.6", default-features = false, optional = true }
